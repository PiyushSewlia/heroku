const express = require('express');
const hbs = require('hbs');
const fs =require('fs');

var app = express();
hbs.registerPartails(__dirname + '/views/partials');

app.set('view engine','hbs');//set--- key & value
app.use(req.res,next()=>{
    var now =new Data().toString();
    var msg =${now}: ${req.mothod} ${req.url};
    console.log(msg);

    fs.appendFile('server..log','msg +'\n',(err)=>{
        if (err){
            console.log('unable to access');
        }
    });
    next();

});
 app.use(express.static(__dirname+'/public'));
 hbs.registerHelper('getCurrentYear',()=>{
     res.resnder('.home.hbs',{
         pageTitle: 'Home'
     });
 });
 app.get('/about',(req,res) =>{
    res.render('about.hbs' , {
    pageTitile : 'about',
    });
});
app.listen(3000,() => {
    console.log("Server running successfully in port no - 3000");
});    